<html>

<style>
	.title{
		text-align: center;
		border-bottom: 2px solid black;
		width: 80%;
		margin: 0 auto;
	}

	.container{
		border: 1px solid black;
		width: 80%;
		margin: 0 auto;
		margin-top: 20px;
	}

</style>
<title>Get in the Game</title>
<head>
	<link rel="shortcut icon" href="images/favicon.png" type="image/x-icon"/>
	<div class = "nav">
		<h1 class="title">Actuarial Exam Success: The Game</h1>
		<div class="result"></div>
	</div>
</head>

<body>

	<script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js"></script>
	<script src='js/underscore-min.js'></script>

<div class="container">
	<script>

// #####################################################################################################
//		Script to get Object Name
// #####################################################################################################
		Object.prototype.getName = function() {
		  var funcNameRegex = /function (.{1,})\(/;
		  var results = (funcNameRegex).exec((this).constructor.toString());
		  return (results && results.length > 1) ? results[1] : "";
		};

// #####################################################################################################
//		SOA Preliminary Exam Data (www.soa.org)
// #####################################################################################################

		var exams = {
			"P"		: {	"name"			: "Probability",
								"sittings"	: 6,
								"hours"			: 3,
								"dates"			: ["January", "March", "May", "July", "September", "November"],
								"passrates"	: [.486, .423, .419, .426]},
			"FM"	: {	"name"			: "Financial Mathematics",
								"sittings"	: 6,
								"hours"			: 3,
								"dates"			: ["February", "April", "June", "August", "October", "December"],
								"passrates"	: [.427, .416, .464, .458]},
			"MFE"	: {	"name"			: "Financial Economics",
								"sittings"	: 3, "hours": 3,
								"dates"			: ["March", "July", "November"],
								"passrates"	: [.422, .495, .526]},
			"MLC"	: {	"name"			: "Life Contingencies",
							  "sittings"	: 2,
								"hours"			: 4,
								"dates"			: ["April", "October"],
								"passrates"	: [.406, .416]},
			"C"		: {	"name"			: "Actuarial Models",
								"sittings"	: 3,
								"hours"			: 3.5,
								"dates"			: ["February", "June", "October"],
								"passrates"	: [.442, .398]},
		};

// #####################################################################################################
//		Declare Variables
// #####################################################################################################

		examP = exams.P;
		examFM = exams.FM;
		examMFE = exams.MFE;
		examMLC = exams.MLC;
		examC = exams.C;

// #####################################################################################################
//		CREATE METHODS AND CLASSES
// #####################################################################################################


		function display_details(exam1, exam2, exam3, exam4, exam5){
			exam_details(exam1);
			exam_details(exam2);
			exam_details(exam3);
			exam_details(exam4);
			exam_details(exam5);
		}

		function average(scores){
			sum = 0;
			for(var x = 0; x < scores.passrates.length; x ++){
			  sum = sum + scores.passrates[x];  //or Sum += scores[x];
			};
			average = sum / scores.passrates.length;  //length of the array scores is in scores.length
			return average;
		}

		// obj.key3 = "value3";

		// function exam(actuarial_exam){
		// 	this.name = actuarial_exam["name"];
		// 	this.sittings = actuarial_exam["sittings"];
		// 	this.hours = actuarial_exam["hours"];
		// 	this.dates = actuarial_exam["dates"];
		// 	this.passrates = actuarial_exam["passrates"];
		// 	this.passrate = average(actuarial_exam["passrates"]);
		// }

		function draw(item, tag, newLine){
			newLine = newLine || false;
			tag = tag || "span";
			if (newLine == false){
				newLine = "";
			}
			else{
				newLine = "<br>";
			}
			opentag = "<" + tag + ">"
			closetag = "</" + tag + ">"
			document.writeln(opentag + item + newLine + closetag);
		}

		function exam_details(exam){
			draw(exam.name, "u", "break");
			draw("Time: ") + draw(exam.hours,"span") + draw(" hrs", "span", "break");
			draw("Sittings: ") + draw(exam.sittings,"span", "break");
			draw("Dates: ") + draw(exam.dates,"span", "break");
			draw("Pass Rates: ") + draw(exam.passrates,"span", "break");
			draw("Avg. Pass Rates: ") + draw(exam.passrates, "span", "break");
			draw("Sitting", "button", "break");
			draw("", "div", "break");
		}

// #####################################################################################################
//		MAP NEW VARIABLES
// #####################################################################################################

		document.write(_.sample([1, 2, 3, 4, 5, 6]) + "<br>");
		examC.passrate = 200;
		document.write(examC.passrate + "<br>");
		examC.passrate = 300;
		document.write(examC.passrate + "<br>");
		examC.passrate = average(examC);
		document.write("Average pass rate: " + Math.round(examC.passrate*1000)/1000 + "<br>");
		// examMFE.passrate = average(examMFE);
		// document.write(examMFE.passrate + "<br>");
		// examFM.passrate = average(examFM.passrates);
		// document.write(examFM.passrate);

// #####################################################################################################
//		TESTING AREA
// #####################################################################################################
		display_details(examP, examC, examMLC);


	</script>
</div>
</body>
</html>